@page "/contact"

@if (_loaded)
{
    <MudContainer MaxWidth="MaxWidth.Small" Class="d-flex align-center" Style="height: 40vh;">
        <MudPaper Elevation="25" Class="pa-8" Style="width: 500px;">
            <EditForm Model="@_contactRequestModel" OnValidSubmit="SubmitAsync">
                <FluentValidationValidator @ref="_fluentValidationValidator"/>
                <MudGrid>
                    <MudItem xs="12">
                        <TheTitle Title="Contact Us" Description="Send us a note" Icon="@CustomIcons.Email"/>
                    </MudItem>
                    <MudItem xs="12" sm="6" md="6">
                        <MudTextField Disabled="@_fieldDisabled" For="@(() => _contactRequestModel.Name)" @bind-Value="_contactRequestModel.Name" Label="Name" Variant="Variant.Outlined" InputType="InputType.Text" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Rounded.Person"/>
                    </MudItem>
                    <MudItem xs="12" sm="6" md="6">
                        <MudTextField Disabled="@_fieldDisabled" For="@(() => _contactRequestModel.Email)" @bind-Value="_contactRequestModel.Email" Label="Email" Variant="Variant.Outlined" InputType="InputType.Email" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Rounded.Email"/>
                    </MudItem>
                    <MudItem xs="12">
                        <MudTextField Lines="3" For="@(() => _contactRequestModel.Message)" @bind-Value="_contactRequestModel.Message" Label="Message" Variant="Variant.Outlined" InputType="InputType.Text" Adornment="Adornment.End" AdornmentIcon="@Icons.Material.Rounded.Message"/>
                    </MudItem>
                    <MudItem xs="12" Class="d-flex justify-center">
                        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Disabled="@_disabled" Color="Color.Primary" Size="Size.Large" Style="width: 100%;">Send Message</MudButton>
                    </MudItem>
                    @if (_disabled)
                    {
                        <MudItem xs="12" Class="d-flex justify-center">
                            <MudAlert Severity="Severity.Success" Variant="Variant.Filled">Contact Received we will be in touch soon!</MudAlert>
                        </MudItem>
                    }
                </MudGrid>
            </EditForm>
        </MudPaper>
    </MudContainer>
}
else
{
    <Loading/>
}